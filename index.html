<!DOCTYPE html>
<html>
<head>
<meta charset = "UTF-8">
<title>kyoronut's page</title>
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
$(function(){
	var supply;
	var eth_liq;
	var eth_liq_uni;
	var uni_liq_uni;
	var price_internal;
	var price_market;
	$('#btn1').click(function(){
		var dt = {a:1, b:2};
		$.ajax({
			url:"https://api.dex.ag/price?from=ETH&to=DAI&fromAmount=1&dex=uniswap",
			type:"GET",
			dataType:"json",
			data:dt,
		})
		.done((data)=>{console.log(data);
			 
				<!--$('body').append("\n" + data.price + "DAI/ETH \n");-->
			       
		     })
		.fail((data)=>{console.log(data.responceText);})
		.always((data)=>{console.log(data);});
		
		$.ajax({
			url:"https://api.etherscan.io/api?module=stats&action=tokensupply&contractaddress=0x09cabec1ead1c0ba254b09efb3ee13841712be14",
			dataType:"json",
			data:dt})
		
			.done((data)=>{console.log(data);

				       supply = data.result * 1e-18;
				      
		     })
		.fail((data)=>{console.log(data.responceText);})
		.always((data)=>{console.log(data);});
		
		
		$.ajax({
			url:"https://api.etherscan.io/api?module=account&action=balance&address=0x09cabEC1eAd1c0Ba254B09efb3EE13841712bE14&tag=latest",
			dataType:"json",
			data:dt})
		
			.done((data)=>{console.log(data);

				       eth_liq = data.result * 1e-18;
				      
				     
		     })
		.fail((data)=>{console.log(data.responceText);})
		.always((data)=>{console.log(data);});
			       if(eth_liq > 0 && supply > 0){
				       price_internal = eth_liq * 2 / supply;
				       $('body').append("ineternal_price: " + price_internal.toFixed(3) + " ETH,   ");
			       }
			       
		$.ajax({
			url:"https://api.etherscan.io/api?module=account&action=balance&address=0x601c32E0580D3aef9437dB52D09f5a5D7E60eC22&tag=latest",
			dataType:"json",
			data:dt})
		
			.done((data)=>{console.log(data);

				       eth_liq_uni = data.result * 1e-18;
				      
				     
		     })
		.fail((data)=>{console.log(data.responceText);})
		.always((data)=>{console.log(data);});
			       
		$.ajax({
			url:"https://api.etherscan.io/api?module=account&action=tokenbalance&contractaddress=0x09cabec1ead1c0ba254b09efb3ee13841712be14&address=0x601c32E0580D3aef9437dB52D09f5a5D7E60eC22&tag=latest",
			dataType:"json",
			data:dt})
		
			.done((data)=>{console.log(data);

				       uni_liq_uni = data.result * 1e-18;
				      
				     
		     })
		.fail((data)=>{console.log(data.responceText);})
		.always((data)=>{console.log(data);});
			       if(eth_liq_uni > 0 && uni_liq_uni > 0){
				       price_market = eth_liq_uni / uni_liq_uni;
				       $('body').append("market_price: " + price_market.toFixed(3) + " ETH   ")
			       }
			       else{
			       $('body').append("click again\n ")
			       }
	});
});
</script>
</head>

<body>
<h1>kyoronut's page</h1>
<p>hello</p>
<!-- button -->
<input type="button" id="btn1" value="button">
<br><br>
</body>
</html>
